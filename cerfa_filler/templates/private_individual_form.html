<!-- company_form.html -->
{% extends 'base.html' %}
{% load django_bootstrap5 i18n %}

{% block title %}{% if object %}Edit{% else %}Create{% endif %} Company{% endblock %}

{% block content %}
<div class="container">
    <h2>{% if object %}{% translate 'Edit' %}{% else %}{% translate 'Create' %}{% endif %} {% translate 'PrivateDonation' %}</h2>
    <p class="text-muted">{% if object %}{{object.metadata}}{%endif%}</p>

    {% bootstrap_messages %}
    <form method="post">
        {% csrf_token %}

        {% bootstrap_form form layout='horizontal' %}

        {% bootstrap_button button_type="submit" content="OK" %}

        <a href="{% url 'cerfa_filler:companies-list' %}" class="btn btn-secondary">Cancel</a>
    </form>

    <script>
        const dateStart = document.getElementById('id_date_start');
        const dateEnd = document.getElementById('id_date_end');

        if (dateStart.value === '') {
            dateEnd.disabled = true
        }

        dateStart.addEventListener('input', function() {
            if (dateStart.value === '') {
                dateEnd.disabled = true;
            } else {
                dateEnd.disabled = false;
            }
        });
    </script>
    {% endblock %}
